<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@dtinth’s custom Tailwind build</title>
    <script>
      {
        const html = String.raw
        if (location.protocol === 'file:') {
          document.write(html`<link
            rel="stylesheet"
            id="mainCss"
            href="dist/tailwindtinth.min.css"
          />`)
          document.write(html`<link
            rel="stylesheet"
            id="mainCss"
            href="dist/tailwindtinth-markdown.css"
          />`)
        } else {
          document.write(html`<link
            rel="stylesheet"
            id="mainCss"
            href="https://unpkg.com/tailwindtinth/dist/tailwindtinth.min.css"
          />`)
          document.write(html`<link
            rel="stylesheet"
            id="mainCss"
            href="https://unpkg.com/tailwindtinth/dist/tailwindtinth-markdown.css"
          />`)
        }
      }
    </script>

    <link
      href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/comic-mono@0.0.1/index.css"
    />
  </head>
  <body class="bg-#353433 text-#e9e8e7 p-6 sm:pl-16 pt-16">
    <div class="h-0">
      <dtinth-project-header
        project-id="dtinth-project-header"
        project-icon="data:image/svg+xml,%3Csvg width='128' height='128' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3Cfilter x='-2.5%25' y='-7.9%25' width='109.9%25' height='131.6%25' filterUnits='objectBoundingBox' id='a'%3E%3CfeOffset dx='4' dy='4' in='SourceAlpha' result='shadowOffsetOuter1'/%3E%3CfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0' in='shadowOffsetOuter1'/%3E%3C/filter%3E%3Cfilter x='-2.5%25' y='-7.9%25' width='109.9%25' height='131.6%25' filterUnits='objectBoundingBox' id='c'%3E%3CfeOffset dx='4' dy='4' in='SourceAlpha' result='shadowOffsetOuter1'/%3E%3CfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0' in='shadowOffsetOuter1'/%3E%3C/filter%3E%3Cpath d='M94.844 55.688c-3.907 0-7.748-.547-11.524-1.641a233.745 233.745 0 01-11.523-3.672c-7.031-2.448-12.787-3.672-17.266-3.672-3.698 0-7.096.56-10.195 1.68-3.099 1.12-6.341 2.851-9.727 5.195v-16.64c5.886-4.376 12.943-6.563 21.172-6.563 5.469 0 11.771 1.224 18.907 3.672 6.875 2.396 11.614 3.906 14.218 4.531 2.604.625 5.078.938 7.422.938 6.98 0 13.438-2.396 19.375-7.188v17.11c-3.333 2.291-6.523 3.906-9.57 4.843-3.047.938-6.81 1.407-11.29 1.407z' id='b'/%3E%3Cpath d='M72.844 92.115c-3.907 0-7.748-.546-11.524-1.64a233.745 233.745 0 01-11.523-3.672c-7.031-2.448-12.787-3.672-17.266-3.672-3.698 0-7.096.56-10.195 1.68-3.099 1.12-6.341 2.851-9.727 5.195v-16.64c5.886-4.376 12.943-6.563 21.172-6.563 5.469 0 11.771 1.224 18.907 3.672 6.875 2.396 11.614 3.906 14.218 4.531 2.604.625 5.078.938 7.422.938 6.98 0 13.438-2.396 19.375-7.188v17.11c-3.333 2.291-6.523 3.906-9.57 4.843-3.047.938-6.81 1.406-11.29 1.406z' id='d'/%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cuse fill='%23000' filter='url(%23a)' xlink:href='%23b'/%3E%3Cuse fill='%23D7FC70' xlink:href='%23b'/%3E%3Cg%3E%3Cuse fill='%23000' filter='url(%23c)' xlink:href='%23d'/%3E%3Cuse fill='%23D7FC70' xlink:href='%23d'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"
      >
      </dtinth-project-header>
    </div>

    <h1 class="text-2xl font-bold">
      <span class="font-normal text-#8b8685">@</span
      ><span class="text-#d7fc70">dtinth</span>’s
      <span class="text-#bbeeff">custom Tailwind build</span>
    </h1>

    <p class="my-4 max-w-xl">
      For use in my own projects… For more information
      <a class="text-#ffffbb" href="https://github.com/dtinth/tailwindtinth"
        >see GitHub repo</a
      >. This page contains the code snippets for me to copy-and-paste into new
      projects.
    </p>
    <div id="app"></div>

    <script src="https://unpkg.com/vue@2.6.11/dist/vue.min.js"></script>
    <script src="markdown-demo.js"></script>
    <script>
      {
        const html = String.raw
        Vue.component('code-block', {
          props: ['code'],
          template: html`<pre
            wrap
            class="text-sm p-4 bg-#090807 text-#bbeeff rounded"
          ><code>{{code}}</code></pre>`,
        })

        const unindent = (x) => {
          const all = x
            .replace(/^<head>[ ]*\n/, '')
            .replace(/<\/head>$/, '')
            .trimEnd()
          const indent = Math.min(
            ...all
              .split('\n')
              .filter((x) => x.trim())
              .map((x) => ((x.match(/^[ ]+/) || {})[0] || []).length),
          )
          return all
            .split('\n')
            .map((x) => x.replace(new RegExp('^' + ' '.repeat(indent)), ''))
            .join('\n')
        }

        new Vue({
          el: '#app',
          template: html`<div>
            <div class="flex">
              <code-block :code="code"></code-block>
            </div>

            <h2 class="mt-24 text-#8b8685 text-5xl">Markdown demo</h2>
            <div class="max-w-3xl">
              <div class="markdown-body" v-html="markdownDemo"></div>
            </div>
          </div>`,
          data: {
            fonts: unindent(html`<head>
              <link
                href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400;0,700;1,400&display=swap"
                rel="stylesheet"
              />
              <link
                rel="stylesheet"
                href="https://unpkg.com/comic-mono@0.0.1/index.css"
              />
            </head>`),
            sheet: '<!-- loading latest URL... -->',
            markdownDemo: markdownDemo,
          },
          computed: {
            code() {
              return [this.fonts, this.sheet].join('\n')
            },
          },
          async mounted() {
            const response = await fetch(
              'https://unpkg.com/tailwindtinth/dist/tailwindtinth.min.css',
              { method: 'HEAD' },
            )
            const latestTailwindtinthStylesheetUrl = response.url
            this.sheet = unindent(html`<head>
              <link
                rel="stylesheet"
                href="${latestTailwindtinthStylesheetUrl}"
              />
            </head>`)
          },
        })
      }
    </script>
    <script
      type="module"
      src="https://unpkg.com/@dtinth/project-header@0.0.1/dist/dtinth-project-header/dtinth-project-header.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/@dtinth/project-header@0.0.1/dist/dtinth-project-header/dtinth-project-header.js"
    ></script>
  </body>
</html>
